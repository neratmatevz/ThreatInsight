# Backend Setup

## Pre-requisites
Install [Node.js](https://nodejs.org/en) (version v20.14.0)

## Getting started
- Install dependencies
```
npm install
```
- Build and run the project
```
npm start
```
- Navigate to `http://localhost:3001`
- Run Jest tests with
```
npm test
```

## Environment Configuration

To run this project, you will need to set up your environment variables with your own API keys. Create a `.env` file in the root directory of your project and add the following keys:

| API Name            | Environment Variable Name | Example Value                         |
|---------------------|---------------------------|---------------------------------------|
| Nmap API            | `NMAP_API`                | `https://api.nmap.online/v01`         |
| Nmap API Key        | `NMAP_API_KEY`            | `YOUR_API_KEY`                    |
| WHOIS API           | `WHOIS_API`               | `https://ki.tc/`                      |
| IP Geo API          | `IPGEO_API`               | `https://api.findip.net/`             |
| IP Geo API Key      | `IPGEO_API_KEY`           | `YOUR_API_KEY`                          |
| HIBP API            | `HIBP_API`                | `https://haveibeenpwned.com/api/v3`   |
| HIBP API Key        | `HIBP_API_KEY`            |`YOUR_API_KEY`                              |
| TLS/DNSSEC API      | `TLSDNSSEC_API`           | `https://api.siterelic.com/`          |
| TLS/DNSSEC API Key  | `TLSDNSSEC_API_KEY`       | `YOUR_API_KEY`                             |
| Domain Search API   | `DOMAINSEARCH_API`        | `https://api.prospeo.io/`             |
| Domain Search API Key | `DOMAINSEARCH_API_KEY`  | `YOUR_API_KEY`    |

## Firebase Setup Guide

To run this project, you will need to set up your own Firebase account and configure it with the project. Follow the instructions below.

### Step 1: Create a Firebase Account

1. Go to the [Firebase Console](https://console.firebase.google.com/).
2. If you don't have an account, create one and sign in.

### Step 2: Create a New Firebase Project

1. Click on `Add Project` and follow the prompts to create a new project.
2. Once the project is created, navigate to the project settings.

### Step 3: Generate a Service Account Key

1. In the Firebase Console, go to `Project Settings` > `Service Accounts`.
2. Click on `Generate New Private Key`.
3. A JSON file will be downloaded to your computer. This is your `serviceAccountKey.json` file.

### Step 4: Add the Service Account Key to Your Project

1. Move the downloaded `serviceAccountKey.json` file to the root directory of your project.

## Project Structure
The folder structure of this app is explained below:

| Directory/File       | Description                                                                 |
|----------------------|-----------------------------------------------------------------------------|
| `authentication`     | Contains functions for authentication                                       |
| `node_modules`       | Directory for project dependencies (auto-generated by npm)                  |
| `routes`             | Directory containing all route handlers                                     |
| `search`             | Directory for search functionality              |
| `tests`              | Directory containing test cases and related scripts                         |
| `tools`              | Directory for various tools (e.g., nmap, ipgeo, other API implementations)   |
| `firebase.js`        | Configuration and setup for Firebase                                        |
| `package-lock.json`  | Lockfile for npm to ensure consistent installs                              |
| `package.json`       | Project metadata and dependencies                                           |
| `server.js`          | Entry point for the server application 
